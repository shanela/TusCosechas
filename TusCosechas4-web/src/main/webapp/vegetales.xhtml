<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"  
                xmlns:ui="http://java.sun.com/jsf/facelets" 
                xmlns:p="http://primefaces.org/ui"
                template="/templates/template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html">
    <ui:define name="contenido">
        <h:form>
        <p:panel header="Administraci&oacute;n de vegetales">
            <p:dataTable value="#{vegetalBean.vegetales}" var="vegetal" paginator="true" paginatorPosition="bottom" selectionMode="single"
                         selection="#{vegetalBean.vegetalSeleccionado}" rowKey="#{vegetal.codigoVegetal}"
                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                <p:ajax event="rowSelect" update="@form" />
                <p:ajax event="rowUnselect" update="@form" />
                <p:column headerText="Nombre">#{vegetal.nombre}</p:column>
                <p:column headerText="Especie">#{vegetal.especie}</p:column>
                <p:column headerText="Peso">#{vegetal.peso}</p:column>
                <p:column headerText="Precio">#{vegetal.precio}</p:column>
                <p:column headerText="Cantidad en caja peque&ntilde;a">#{vegetal.cantidadcajapequenia}</p:column>
                <p:column headerText="Cantidad en caja mediana">#{vegetal.cantidadcajamediana}</p:column>
                <p:column headerText="Cantidad en caja grande">#{vegetal.cantidadcajagrande}</p:column>
            </p:dataTable>
            <br />
            <center>
                <p:commandButton value="Agregar" actionListener="#{vegetalBean.agregar()}" update="@form" disabled="#{not empty vegetalBean.vegetal}" />
                <p:commandButton value="Modificar" actionListener="#{vegetalBean.modificar()}" update="@form" rendered="#{not empty vegetalBean.vegetalSeleccionado}" disabled="#{not empty vegetalBean.vegetal}" />
                <p:commandButton value="Eliminar" actionListener="#{vegetalBean.eliminar()}" update="@form" rendered="#{not empty vegetalBean.vegetalSeleccionado}" disabled="#{not empty vegetalBean.vegetal}" />
            </center>
            <br />
            <p:panel header="Agregar/Modificar vegetal" rendered="#{not empty vegetalBean.vegetal}">
                <p:panelGrid columns="3">
                    <p:outputLabel for="nombre" value="Nombre: " />
                    <p:inputText id="nombre" value="#{vegetalBean.vegetal.nombre}" maxlength="75" required="true" requiredMessage="El nombre del vegetal es requerido." />
                    <p:message for="nombre" />

                    <p:outputLabel for="especie" value="Especie: " />
                    <p:inputText id="especie" value="#{vegetalBean.vegetal.especie}" maxlength="75" required="true" requiredMessage="La especie del vegetal es requerida." />
                    <p:message for="especie" />

                    <p:outputLabel for="peso" value="Peso: " />
                    <p:inputText id="peso" value="#{vegetalBean.vegetal.peso}" maxlength="6" type="number" required="true" requiredMessage="El peso del vegetal es requerido." />
                    <p:message for="peso" />

                    <p:outputLabel for="precio" value="Precio: " />
                    <p:inputText id="precio" value="#{vegetalBean.vegetal.precio}" maxlength="7" type="number" required="true" requiredMessage="El precio del vegetal es requerido." />
                    <p:message for="precio" />

                    <p:outputLabel for="cantidadcajapequenia" value="Cantidad en caja peque&ntilde;a: " />
                    <p:inputText id="cantidadcajapequenia" value="#{vegetalBean.vegetal.cantidadcajapequenia}" maxlength="5" type="number" required="true" requiredMessage="La cantidad del vegetal en caja peque&ntilde;a es requerida." />
                    <p:message for="cantidadcajapequenia" />

                    <p:outputLabel for="cantidadcajamediana" value="Cantidad en caja mediana: " />
                    <p:inputText id="cantidadcajamediana" value="#{vegetalBean.vegetal.cantidadcajamediana}" maxlength="5" type="number" required="true" requiredMessage="La cantidad del vegetal en caja mediana es requerida." />
                    <p:message for="cantidadcajamediana" />

                    <p:outputLabel for="cantidadcajagrande" value="Cantidad en caja : " />
                    <p:inputText id="cantidadcajagrande" value="#{vegetalBean.vegetal.cantidadcajagrande}" maxlength="5" type="number" required="true" requiredMessage="La cantidad del vegetal en caja grande es requerida." />
                    <p:message for="cantidadcajagrande" />
                </p:panelGrid>
                <br />
                <p:commandButton value="Guardar" actionListener="#{vegetalBean.guardar()}" update="@form" />
                <p:commandButton value="Cancelar" actionListener="#{vegetalBean.cancelar()}" update="@form" immediate="true" />
            </p:panel>
        </p:panel>
            
       </h:form>
    </ui:define>
</ui:composition>